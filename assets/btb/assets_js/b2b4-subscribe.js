var messageSubscribe ={
	'at' : 		{ emailValid :'Bitte geben Sie eine gultige {0} ein' 	, checkboxValid : 'Nehmen Sie die Vereinbarung an'},
	'be' : 		{ emailValid :'Noteer een geldig {0}' 					, checkboxValid : 'Vink het vakje aan om uw instemming te bevestigen'},
	'be_fr' : 	{ emailValid :'Saisissez une {0} valide' 				, checkboxValid : 'Cochez la case de consentement.'},
	'bg' : 		{ emailValid :'Моля, въведете валиден/на [{0}]' , checkboxValid : 'Моля, отметнете полето за съгласие'},
	'ch_fr' : 	{ emailValid :'Entrez une {0} valable' 					, checkboxValid : 'Cochez la case indiquant votre accord'},
	'ch' : 		{ emailValid :'Geben Sie bitte eine gultige {0} ein' 	, checkboxValid : 'Kreuzen Sie bitte das Feld für Ihr Einverständnis an'},
	'cz' : 		{ emailValid :'Zadejte platnou hodnotu {0}' 			, checkboxValid : 'Zaškrtněte políčko souhlasu'},
	'de' : 		{ emailValid :'Geben Sie eine gultige [{0}] ein.' 		, checkboxValid : 'Markieren Sie das Feld für Ihre Zustimmung.'},
	'dk' : 		{ emailValid :'Indtast en gyldig {0}' 					, checkboxValid : 'Sæt kryds i aftalefeltet'},
	'ee' : 		{ emailValid :'Sisestage kehtiv {0}' 					, checkboxValid : 'Nõustumise korral märkige ruut'},
	'es' : 		{ emailValid :'Introduzca una {0} valida' 				, checkboxValid : 'Seleccione la casilla de conformidad'},
	'fi' : 		{ emailValid :'Anna kelvollinen {0}' 					, checkboxValid : 'Valitse hyväksymisruutu'},
	'fr' : 		{ emailValid :'Merci de renseigner un email professionnel valide' 	, checkboxValid : 'Cochez la case d\'accord.'},
	'gr' : 		{ emailValid :'Παρακαλούμε εισάγετε μια έγκυρη {0}' , checkboxValid : 'Παρακαλούμε επιλέξτε το πεδίο αποδοχής σχετικά με τα προσωπικά στοιχεία'},
	'hr' : 		{ emailValid :'Molimo unesite valjanu {0}' 				, checkboxValid : 'Molimo provjerite okvir za suglasnost'},
	'hu' : 		{ emailValid :'Kerjuk, adjon meg egy ervenyes {0}' 		, checkboxValid : 'Kérjük, jelölje meg az ellenőrzőnégyzetet'},
	'it' : 		{ emailValid :'Inserisci un {0} valido' 				, checkboxValid : 'Seleziona la casella per prestare il tuo consenso'},
	'lt' : 		{ emailValid :'Įveskite leistiną {0}' 					, checkboxValid : 'Pažymėkite sutikimo langelį'},
	'lv' : 		{ emailValid :'Lūdzu, ievadiet derīgu {0}' 				, checkboxValid : 'Lūdzu, atzīmējiet lodziņu par piekrišanu'},
	'nl' : 		{ emailValid :'Voer een geldig {0} in' 					, checkboxValid : 'Vink het vakje voor akkoord aan'},
	'no' : 		{ emailValid :'Skriv inn en gyldig {0} i' 				, checkboxValid : 'Kontroller avtaleboksen'},
	'pl' : 		{ emailValid :'Wpisz prawidłowy adres e-mail' 			, checkboxValid : 'Wyraź zgodę, zaznaczając odpowiednie pole wyboru'},
	'pt' : 		{ emailValid :'Indique um {0} valido' 					, checkboxValid : 'Assinale a caixa de acordo'},
	'ro' : 		{ emailValid :'Introduceţi un element valabil {0}' 		, checkboxValid : 'Bifaţi caseta agreement'},
	'rs' : 		{ emailValid :'Unesite važeću {0}' 						, checkboxValid : 'Označite polje za saglasnost'},
	'se' : 		{ emailValid :'Ange en giltig {0}' 						, checkboxValid : 'Kontrollera godkännanderutan'},
	'sk' : 		{ emailValid :'Zadajte platnu adresu v poli {0}' 		, checkboxValid : 'Začiarknite políčko súhlasu'},
	'cn' : 		{ emailValid :'请输入一个有效的 {0}' 						, checkboxValid : 'Please check agreement box'},
	'hk' : 		{ emailValid :'請輸入一個有效的 {0}' 					, checkboxValid : 'Please check agreement box'},
	'tw' : 		{ emailValid :'請輸入正確的 {0}' 						, checkboxValid : 'Please check agreement box'},
	'hk_en' : 	{ emailValid :'Please enter a valid {0}' 				, checkboxValid : 'Please check agreement box'},
	'si' : 		{ emailValid :'Vnesite veljaven {0}' 					, checkboxValid : 'Potrdite polje o strinjanju'},
	'uk' : 		{ emailValid :'Please enter a valid {0}' 				, checkboxValid : 'Please check agreement box'},
	'sg' : 		{ emailValid :'Please enter a valid {0}' 				, checkboxValid : 'Please check agreement box'},
	'ph' : 		{ emailValid :'Please enter a valid {0}' 				, checkboxValid : 'Please check agreement box'},
	'ie' : 		{ emailValid :'Please enter a valid {0}' 				, checkboxValid : 'Please check agreement box'},
	'iran' : 	{ emailValid :'لطفاً آدرس ایمیل معتبری را وارد نمایید' 					, checkboxValid : 'لطفاً قسمت توافق‌نامه را بررسی کنید'},
	'global' : 	{ emailValid :'Please enter a valid {0}' 				, checkboxValid : ''},
	'ar'               : 	{ emailValid :'Ingresa un {0} valido' , checkboxValid : 'Marcá la casilla de aceptación'},   
	'br'               : 	{ emailValid :'Digite um {0}?valido' , checkboxValid : 'Marque a caixa de acordo'},  
	'ca_fr'            : 	{ emailValid :'Entrez un {0} valide' , checkboxValid : 'Cochez la case d\'acceptation'},   
	'ca'               : 	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'cl'               : 	{ emailValid :'Ingresa un {0} valido' , checkboxValid : 'Marca la casilla de aceptación'},   
	'co'               : 	{ emailValid :'Ingresa un {0} valido' , checkboxValid : 'Marca la casilla de aceptación'},   
	'latin_en'         : 	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},   
	'latin'            : 	{ emailValid :'Ingresa un {0} valido' , checkboxValid : 'Marca la casilla de aceptación'},   
	'mx'               : 	{ emailValid :'Ingresa un/a {0} valido/a' , checkboxValid : 'Marca la casilla de aceptación'},   
	'pe'               : 	{ emailValid :'Ingresa una {0} valida' , checkboxValid : 'Marca la casilla de aceptación'},   
	've'               : 	{ emailValid :'Ingresa un(a) {0} valido(a)' , checkboxValid : 'Marca la casilla de aceptación'},   
	'au'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'id'     		   :  	{ emailValid :'Tulis {0} yang valid' , checkboxValid : 'Periksa kotak persetujuan'},  
	'in'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'jp'               :  	{ emailValid :'有効な {0}を入力してください。' , checkboxValid : '「同意する」のボックスにチェックをいれてください。'},  
	'my'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'nz'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'th'               :  	{ emailValid :'กรุณาใส่ที่อยู่อีเมลที่ใช้ได้' , checkboxValid : 'กรุณากาในช่องข้อตกลง'},  
	'vn'               :  	{ emailValid :'Vui lòng nhập {0} hợp lệ' , checkboxValid : 'Vui lòng đánh dấu hộp đồng ý'},  
	'ae_ar'            :  	{ emailValid :'الرجاء إدخال {0} صالحة' , checkboxValid : 'يرجى وضع علامة على مربع اتفاق'},  
	'ae'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'africa_en'        :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'africa_fr'        :  	{ emailValid :'Saisissez un{0} valide.' , checkboxValid : 'Cochez la case pour confirmer votre accord.'},  
	'africa_pt'        :  	{ emailValid :'Introduza um {0} valido' , checkboxValid : 'Assinale a caixa confirmação'},  
	'eg'               :  	{ emailValid :'الرجاء إدخال {0} صالحة' , checkboxValid : 'يرجى وضع علامة على مربع اتفاق'},  
	'il'               :  	{ emailValid :'{0} חוקי' , checkboxValid : 'עליך לסמן את תיבת ההסכמה'},  
	'kz_ru'            :  	{ emailValid :'Введите действительный {0}' , checkboxValid : 'Установите флажок, если вы согласны с условиями'},  
	'levant'           :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'pk'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'ru'               :  	{ emailValid :'Введите действительный {0}' , checkboxValid : 'Установите флажок, если вы согласны с условиями'},  
	'sa_en'            :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'sa'               :  	{ emailValid :'الرجاء إدخال {0} صالحة' , checkboxValid : 'يرجى وضع علامة على مربع اتفاق'},  
	'tr'               :  	{ emailValid :'Lutfen gecerli bir {0} giriniz' , checkboxValid : 'Lütfen Kabul kutusunu işaretleyin'},  
	'ua_ru'            :  	{ emailValid :'Введите действительный email' , checkboxValid : 'Установите флажок, если вы согласны с условиями'},  
	'ua'               :  	{ emailValid :'Введіть дійсний email' , checkboxValid : 'Установіть прапорець, якщо ви погоджуєтеся з умовами'},  
	'za'               :  	{ emailValid :'Please enter a valid {0}' , checkboxValid : 'Please check agreement box'},  
	'n_africa'         :  	{ emailValid :'Saisissez un {0} valide.' , checkboxValid : 'Cochez la case pour confirmer votre accord.'},
	'py'               : 	{ emailValid :'Ingresa un {0} valido' , checkboxValid : 'Marcá la casilla de aceptación'},
	'uy'               : 	{ emailValid :'Ingresa un {0} valido' , checkboxValid : 'Marcá la casilla de aceptación'}
}

var commonSubscribeValid = function(){
	
	$(".alert-area", $(".entermail-content")).hide();
	
	if ( !sgSubscribeCheckMail($("#subscribeSender").val())) { 
		
        $(".alert-area", $(".entermail-content")).html(messageSubscribe[SITE_CD].emailValid.replace("{0}",$("#subscribeSender").attr("placeholder")));
		$(".alert-area", $(".entermail-content")).show();
		$("#subscribeSender").focus(); 
		return false;
    }
    
    if ( !subscribeCheckSamsungMail($("#subscribeSender").val())) { 
		if(SITE_CD == 'sec'){
			$(".alert-area", $(".entermail-content")).html("samsung.com 메일 주소는 입력이 안되오니 다른 메일 주소를 입력 하시기 바랍니다.");
		}else{
			$(".alert-area", $(".entermail-content")).html("Samsung.com email address is not allowed. Please input other email address.");
		}
        
		$(".alert-area", $(".entermail-content")).show();
		$("#subscribeSender").focus(); 
		return false;
    }

    else if(!$("#p-foot-agree").prop("checked")) {
		$(".alert-area", $(".entermail-content")).html(messageSubscribe[SITE_CD].checkboxValid);
		 $(".alert-area", $(".entermail-content")).show();
		return false;
	}
	
	if(SITE_CD == 'nz'){
		if(!$("#p-foot-receive").prop("checked")) {
		$(".alert-area", $(".entermail-content")).html(messageSubscribe[SITE_CD].checkboxValid);
		 $(".alert-area", $(".entermail-content")).show();
		return false;
		}
	}
    return true;
};

function sgSubscribeCheckMail(strMail) {
    var check1 = /(@.*@)|(\.\.)|(@\.)|(\.@)|(^\.)/; 
    var check2 = /^[a-zA-Z0-9\-\.\_]+\@[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,4})$/; 
    if ( !check1.test(strMail) && check2.test(strMail) ) { 
        return true; 
    } else { 
        return false; 
    } 
}

// Samsung Email validation
function subscribeCheckSamsungMail(strMail) {
	if ( strMail.toLowerCase().indexOf("@samsung.com") != -1 ) { 
		return false; 
	} else { 
		return true; 
	} 
}

var sgSubscribeValid = function(){
	
    var validObj = $("[data-role=ui-layer-subscribe]");
    $(".alert-area", validObj).hide();
    $(".alert-area #alertText", validObj).html("");
	
    
	if($("#p-footer-1", validObj).val() == "") {
		$(".alert-area #alertText", validObj).html("Please enter your "+" "+$("#p-footer-1", validObj).attr("placeholder"));
		$(".alert-area", validObj).show();
		$("#p-footer-1", validObj).focus(); 
		return false;
	}else if( $("#p-footer-2", validObj).val() == "") {
		$(".alert-area #alertText", validObj).html("Please enter your "+" "+ $("#p-footer-2", validObj).attr("placeholder"));
		 $(".alert-area", validObj).show();
		 $("#p-footer-2", validObj).focus(); 
		return false;
	}else if ( !sgSubscribeCheckMail($("#p-footer-4", validObj).val())) { 
       $(".alert-area #alertText", validObj).html("Please enter a valid E-mail address");
		$(".alert-area", validObj).show();
		$("#p-footer-4", validObj).focus(); 
		return false;
    }if ( !subscribeCheckSamsungMail($("#p-footer-4", validObj).val())) { 
		if(SITE_CD == 'sec'){
			$(".alert-area #alertText", validObj).html("samsung.com 메일 주소는 입력이 안되오니 다른 메일 주소를 입력 하시기 바랍니다.");
		}else{
			$(".alert-area #alertText", validObj).html("Samsung.com email address is not allowed. Please input other email address.");
		}

		$(".alert-area", validObj).show();
		$("#p-footer-4", validObj).focus(); 
		return false;
    }else if($("#p-footer-5", validObj).val() == "") {
		$(".alert-area #alertText", validObj).html("Please enter a valid phone number");
		 $(".alert-area", validObj).show();
		$("#p-footer-5", validObj).focus(); 
		return false;
	}else if($("#p-footer-7", validObj).val() == "") {
		$(".alert-area #alertText", validObj).html("Please enter your Company Name");
		 $(".alert-area", validObj).show();
		$("#p-footer-7", validObj).focus(); 
		return false;
	}else if($("#employee", validObj).val() == "") {
		$(".alert-area #alertText", validObj).html("Please select No of employees");
		 $(".alert-area", validObj).show();
		return false;
	}else if( $("#industryType", validObj).val() == "") {
		$(".alert-area #alertText", validObj).html("Please select Industry ");
		 $(".alert-area", validObj).show();
		return false;
	}else if(!$("#footer-check-list-1", validObj).prop("checked")) {
		$(".alert-area #alertText", validObj).html("Please check agreement box");
		 $(".alert-area", validObj).show();
		return false;
	}else if(!$("#footer-check-list-2", validObj).prop("checked")) {
		$(".alert-area #alertText", validObj).html("Please check agreement box");
		 $(".alert-area", validObj).show();
		return false;
	}
    
    return true;
};

$(document).ready(function(){
	
	// 6. submit-button-event
	$('*[data-role=ui-btn-subscribe-submit]').each(function(){
		$(this)
		.unbind()
		.bind({
			'click':function(){
				
				var sendURL = "/" + SITE_CD + "/business/business-mail/subscribe/send";
				var url = document.location.href;
    			var DOMAIN = url.substring(0, url.indexOf(SITE_CD)-1);
    			
				if(DOMAIN ==="http://www.samsung.com"){
					sendURL = "https://www.samsung.com"+sendURL;
				}else if(DOMAIN ==="http://origin2.samsung.com"){
					sendURL = "https://origin2.samsung.com"+sendURL;
				}else if(DOMAIN ==="http://stgweb4.samsung.com"){
					sendURL = "http://stgweb4.samsung.com"+sendURL;
				}else if(DOMAIN ==="http://preview4.samsung.com"){
					sendURL = "http://preview4.samsung.com"+sendURL;
				}else{
					sendURL = "https://origin2.samsung.com"+sendURL;
				}
				
				if(commonSubscribeValid()){
					$.ajax({
	                    type        : 'POST',
	                    url         :  sendURL,
	                    data        : {	siteCode: SITE_CD,
					                   	mailSender :$("#subscribeSender").val()
					                   },
	                    dataType    : 'json',
	                    //jsonp : "jsoncallback",
	                    traditional : false,
	                    success     : function(data,st) {
							
	                    },
	                    error       : function(xhr,st,err) {
	                        
	                    },
	                    beforeSend  : function(xhr) {
	                    },
	                    complete    : function(xhr, textStatus) {
	                    }
	                });
	                
	                sendClickCode('content_click','subscribe:email address');
                	$(".entermail-content").find($("*[id=subscribeSender]")).val("");
            		$(".entermail-content").find($("*[id=p-foot-agree]")).attr("checked", false);
                	//require(['ui.layer.common'],function(LayerCommonUI){
                		$(this).data('manager', new LayerCommonUI($('*[data-role=ui-layer-subscribe]')));	
                	//});
	                return false;
				}
			}
		});
	});// ui_layer_common_subscribe find 
	
	// 6. sg subscribe submit-button-event
	$('*[data-role=ui-btn-sgSubscribe-submit]').each(function(){
		// Extend serializeArray function
        	$.fn.serialize = function (options) {
		        return $.param(this.serializeArray(options));
		    };
		    $.fn.serializeArray = function (options) {
		         var o = $.extend({
		         checkboxesAsBools: false
		    }, options || {});
			
		    var rselectTextarea = /select|textarea/i;
		    var rinput = /text|hidden|password|search/i;
			
		    return this.map(function () {
		        return this.elements ? $.makeArray(this.elements) : this;
		    })
		    .filter(function () {
		        return this.name && !this.disabled &&
		            (this.checked
		            || (o.checkboxesAsBools && this.type === 'checkbox')
		            || rselectTextarea.test(this.nodeName)
		            || rinput.test(this.type));
		        })
		        .map(function (i, elem) {
		            var val = $(this).val();
		            return val == null ?
		            null :
		            $.isArray(val) ?
		            $.map(val, function (val, i) {
		                return { name: elem.name, value: val };
		            }) :
		            {
		                name: elem.name,
		                value: (o.checkboxesAsBools && this.type === 'checkbox') ? //moar ternaries!
		                       (this.checked ? 'on' : 'off') :
		                       val
		            };
		        }).get();
		    };
		    // End of Extend serializeArray function
		$(this)
		.unbind()
		.bind({
			'click':function(){
				
				if(sgSubscribeValid()){
						
					var sendURL = "/" + SITE_CD + "/business/business-mail/subscribe/sgSend";
					
					var url = document.location.href;
	    			var DOMAIN = url.substring(0, url.indexOf(SITE_CD)-1);
	    			
					if(DOMAIN ==="http://www.samsung.com"){
						sendURL = "https://www.samsung.com"+sendURL;
					}else if(DOMAIN ==="http://origin2.samsung.com"){
						sendURL = "https://origin2.samsung.com"+sendURL;
					}
					
					$.ajax({
	                    type        : 'POST',
	                    url         :  sendURL,
	                    data        : $("#subscribeForm", $("[data-role=ui-layer-subscribe]")).serializeArray({ checkboxesAsBools: true }),
	                    dataType    : 'json',
	                    //jsonp : "jsoncallback",
	                    success     : function(data,st) {
							
	                    },
	                    error       : function(xhr,st,err) {
	                        
	                    },
	                    beforeSend  : function(xhr) {
	                    },
	                    complete    : function(xhr, textStatus) {
	                    }
	                });

					sendClickCode('content_click','subscribe_send:'+$("#industryType",'*[data-role=ui-layer-subscribe]').val().toLowerCase());
                	$('*[data-role=ui-layer-scope]').find('a.btn-close').trigger('click');
                	$("#subscribeForm")[0].reset();
                	$("#subscribeForm").find($("*[id=industryType]")).hide();
                	//require(['ui.layer.common'],function(LayerCommonUI){
                		$(this).data('manager', new LayerCommonUI($('*[data-role=ui-layer-sgSubscribe]')));	
                	//});
	                    	
	                return false;
				}
			}
		});
	});// ui_layer_common_subscribe find 
	
	// 6. sg select industry
	$("#selIndustryType",'*[data-role=ui-layer-subscribe]').each(function(){
		$(this)
		.unbind()
		.bind({
			'click':function(){
				
				if( $(this).val() === "Others"){
					$("#industryType",'*[data-role=ui-layer-subscribe]').val("");
					$("#industryType",'*[data-role=ui-layer-subscribe]').show();
				} else{
					$("#industryType",'*[data-role=ui-layer-subscribe]').val($(this).val());
					$("#industryType",'*[data-role=ui-layer-subscribe]').hide();
				}
			}
		});
	});// ui_layer_common_subscribe find
	
});

